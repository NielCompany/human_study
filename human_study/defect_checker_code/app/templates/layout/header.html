<header class="header">
  <div class="logo">
    Defect Checker
  </div>
  <nav class="nav">
    <a href="/">HOME</a>
    <a href="{{ url_for('about') }}">ABOUT US</a>
    <a href="{{ url_for('board_list') }}">INQUIRY</a>
    {% if session.get('loginuser') %}
    <!-- 로그아웃 시 쿼리 파라미터 전달 -->
    <a href="{{ url_for('logout') }}?cleared=true">LOGOUT</a>
    {% else %}
    <a href="{{ url_for('login') }}">LOGIN</a>
    {% endif %}
  </nav>
</header>

<!-- chatbot.js 불러오기 -->
<script src="{{ url_for('static', filename='js/chatbot.js') }}"></script>

<!-- 로그아웃 후 localStorage 초기화 (쿼리 파라미터 감지) -->
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const params = new URLSearchParams(window.location.search);
    if (params.get("cleared") === "true") {
      if (typeof clearChatData === "function") {
        clearChatData();
      }
    }
  });
</script>